import{i as d}from"./index-7acdbb37.js";const c=document.querySelector("#filter-elements"),f=[...c.children],a=[["type:",new Set],["year:",new Set]];function p(s){const t=document.querySelectorAll("#filters>button"),e=document.querySelector('[data-filter="all"]');s!==e&&(e.classList.remove("active"),s.classList.toggle("active"));const n=document.querySelectorAll("#filters>button.active");(s===e||n.length===0)&&(t.forEach(i=>{i.classList.contains("active")&&i.classList.remove("active")}),e.classList.add("active")),y(t),h(f)}function y(s){s.forEach(t=>{t.classList.contains("active")?t.setAttribute("aria-pressed",!0):t.setAttribute("aria-pressed",!1),a.forEach(([e,n])=>{t.classList.contains("active")&&t.dataset.filter.includes(e)?n.add(t.dataset.filter):n.delete(t.dataset.filter)})})}function h(s){const t=document.getElementById("no-match"),e=r(s,a),n=[...c.children];e.length===0?(t.style.height=getComputedStyle(c).height,setTimeout(()=>{t.style.display="block",t.textContent=d.t("no-match",{ns:"text"}),setTimeout(()=>{t.style.opacity=1},100)},300)):(t.style.opacity=0,t.textContent="",setTimeout(()=>{t.style.display="none"},300)),s.forEach(i=>{e.includes(i)?n.includes(i)||(c.appendChild(i),setTimeout(()=>{i.firstElementChild.style.opacity=1},500)):(i.firstElementChild.style.opacity=0,setTimeout(()=>{i.remove()},500))})}function r(s,t,e=0){if(t[e]===void 0)return s;const n=[...t[e][1].keys()],i=s.filter(u=>{var o;if(n.length===0)return!0;for(let l=0;l<n.length;l++)if((o=u.dataset.filter)!=null&&o.includes(n[l]))return!0});return r(i,t,++e)}export{p as filterButtonToggle};
